<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxy Attack - Space Shooter</title>
    <meta name="description" content="لعبة space shooter متقدمة مع 100 مستوى ونظام ترقيات متكامل">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
    <script>
// كود تصحيح سريع
console.log('✅ تم تحميل HTML بنجاح');

// تحقق من تحميل العناصر الأساسية
window.addEventListener('load', function() {
    console.log('✅ window.load حدث بنجاح');
    
    const loadingScreen = document.getElementById('loadingScreen');
    const gameContainer = document.getElementById('gameContainer');
    
    console.log('🖥️ loadingScreen:', loadingScreen);
    console.log('🎮 gameContainer:', gameContainer);
    
    // إذا استمرت المشكلة، إخفاء شاشة التحميل يدوياً بعد 3 ثوان
    setTimeout(() => {
        if (loadingScreen && loadingScreen.style.display !== 'none') {
            console.log('🕒 إخفاء شاشة التحميل تلقائياً بعد timeout');
            loadingScreen.style.display = 'none';
            if (gameContainer) gameContainer.style.display = 'block';
            document.getElementById('startScreen').classList.add('active');
        }
    }, 3000);
});
</script>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="screen active">
        <div class="loading-content">
            <div class="loader"></div>
            <h2>🚀 جاري تحميل Galaxy Attack...</h2>
            <p>إعداد الفضاء للقتال</p>
        </div>
    </div>

    <!-- Main Game Container -->
    <div id="gameContainer" style="display: none;">
        <!-- Start Screen -->
        <div id="startScreen" class="screen">
            <div class="screen-content">
                <div class="game-header">
                    <h1 class="game-title">🌌 Galaxy Attack</h1>
                    <div class="player-stats">
                        <div class="stat-item">
                            <span class="stat-icon">💰</span>
                            <span id="totalCoins" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">💎</span>
                            <span id="totalGems" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">⭐</span>
                            <span id="playerLevel" class="stat-value">1</span>
                        </div>
                    </div>
                </div>

                <div class="main-menu">
                    <button id="startBtn" class="menu-btn primary animated-pulse">
                        <span class="btn-icon">🎮</span>
                        <span class="btn-text">بدء المغامرة</span>
                    </button>
                    
                    <button id="shipsBtn" class="menu-btn secondary">
                        <span class="btn-icon">🚀</span>
                        <span class="btn-text">الأسطول الفضائي</span>
                    </button>
                    
                    <button id="upgradesBtn" class="menu-btn secondary">
                        <span class="btn-icon">⚡</span>
                        <span class="btn-text">مركز الترقيات</span>
                    </button>
                    
                    <button id="missionsBtn" class="menu-btn secondary">
                        <span class="btn-icon">🎯</span>
                        <span class="btn-text">المهام اليومية</span>
                    </button>
                    
                    <button id="rewardsBtn" class="menu-btn accent">
                        <span class="btn-icon">🎁</span>
                        <span class="btn-text">المكافآت</span>
                    </button>
                </div>

                <div class="quick-access">
                    <div class="quick-icons">
                        <button class="quick-btn" data-screen="ships" title="الأسطول">
                            <span class="quick-icon">🚀</span>
                        </button>
                        <button class="quick-btn" data-screen="upgrades" title="الترقيات">
                            <span class="quick-icon">⚡</span>
                        </button>
                        <button class="quick-btn" data-screen="missions" title="المهام">
                            <span class="quick-icon">🎯</span>
                        </button>
                        <button class="quick-btn" data-screen="rewards" title="المكافآت">
                            <span class="quick-icon">🎁</span>
                        </button>
                        <button class="quick-btn" data-screen="leaderboard" title="المتصدرين">
                            <span class="quick-icon">🏆</span>
                        </button>
                        <button class="quick-btn" data-screen="settings" title="الإعدادات">
                            <span class="quick-icon">⚙️</span>
                        </button>
                    </div>
                </div>

                <div class="daily-bonus">
                    <div class="bonus-info">
                        <span class="bonus-icon">🎁</span>
                        <span class="bonus-text">المكافأة اليومية جاهزة!</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level Selection Screen -->
        <div id="levelSelectScreen" class="screen">
            <div class="screen-content">
                <div class="screen-header">
                    <h2>🌠 اختيار المستوى</h2>
                    <button id="backToMainFromLevels" class="back-btn">
                        <span>← العودة</span>
                    </button>
                </div>
                
                <div class="level-progress">
                    <div class="progress-info">
                        <span>التقدم: </span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div id="levelProgress" class="progress-fill"></div>
                    </div>
                </div>

                <div id="levelGrid" class="level-grid"></div>
                
                <div class="level-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="completedLevels">0</div>
                        <div class="stat-label">المستويات المكتملة</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalStars">0</div>
                        <div class="stat-label">النجوم المجمعة</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalScore">0</div>
                        <div class="stat-label">إجمالي النقاط</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ships Screen -->
        <div id="shipsScreen" class="screen">
            <div class="screen-content">
                <div class="screen-header">
                    <h2>🛸 الأسطول الفضائي</h2>
                    <button id="backToMainFromShips" class="back-btn">
                        <span>← العودة</span>
                    </button>
                </div>

                <div class="currency-display">
                    <div class="currency-item">
                        <span class="currency-icon">💰</span>
                        <span id="shipsCoins" class="currency-value">0</span>
                    </div>
                    <div class="currency-item">
                        <span class="currency-icon">💎</span>
                        <span id="shipsGems" class="currency-value">0</span>
                    </div>
                </div>

                <div class="selected-ship-preview">
                    <div id="selectedShipDisplay" class="ship-preview">
                        <div class="ship-image">🚀</div>
                        <div class="ship-info">
                            <h3 id="selectedShipName">الطائرة الأساسية</h3>
                            <div class="ship-stats">
                                <div class="stat">❤️ <span id="selectedHealth">100</span></div>
                                <div class="stat">⚡ <span id="selectedDamage">25</span></div>
                                <div class="stat">🎯 <span id="selectedFireRate">300</span></div>
                                <div class="stat">🛡️ <span id="selectedShield">0</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="shipsContainer" class="ships-container"></div>
            </div>
        </div>

        <!-- Upgrades Screen -->
        <div id="upgradesScreen" class="screen">
            <div class="screen-content">
                <div class="screen-header">
                    <h2>⚡ مركز الترقيات</h2>
                    <button id="backToMainFromUpgrades" class="back-btn">
                        <span>← العودة</span>
                    </button>
                </div>

                <div class="upgrades-stats">
                    <div class="upgrade-stat">
                        <span class="stat-name">قوة الهجوم</span>
                        <div class="stat-level">
                            <div class="level-bars">
                                <div class="level-bar active"></div>
                                <div class="level-bar"></div>
                                <div class="level-bar"></div>
                                <div class="level-bar"></div>
                                <div class="level-bar"></div>
                            </div>
                            <span class="level-text">المستوى <span id="weaponLevel">1</span></span>
                        </div>
                    </div>
                    <!-- Add more upgrade stats -->
                </div>

                <div class="upgrades-container">
                    <div class="upgrade-category">
                        <h3>🛡️ أنظمة الدفاع</h3>
                        <div class="upgrade-list">
                            <div class="upgrade-item" data-upgrade="shield">
                                <div class="upgrade-icon">🛡️</div>
                                <div class="upgrade-info">
                                    <h4>درع الطاقة</h4>
                                    <p>يزيد من مقاومة الطائرة للضرر</p>
                                    <div class="upgrade-cost">
                                        <span class="cost-icon">💰</span>
                                        <span class="cost-value">50</span>
                                    </div>
                                </div>
                                <button class="upgrade-btn">ترقية</button>
                            </div>
                            <!-- Add more upgrade items -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <canvas id="gameCanvas"></canvas>
            
            <div class="game-ui">
                <div class="game-header-ui">
                    <div class="game-stats">
                        <div class="game-stat">
                            <span class="stat-label">المستوى</span>
                            <span id="currentLevel" class="stat-value">1</span>
                        </div>
                        <div class="game-stat">
                            <span class="stat-label">النقاط</span>
                            <span id="currentScore" class="stat-value">0</span>
                        </div>
                        <div class="game-stat">
                            <span class="stat-icon">💰</span>
                            <span id="gameCoins" class="stat-value">0</span>
                        </div>
                        <div class="game-stat">
                            <span class="stat-icon">💎</span>
                            <span id="gameGems" class="stat-value">0</span>
                        </div>
                    </div>
                </div>

                <div class="player-health">
                    <div class="health-bar">
                        <div class="health-fill" id="healthFill"></div>
                        <div class="health-text" id="healthText">100%</div>
                    </div>
                </div>

                <div class="game-controls">
                    <button id="pauseBtn" class="control-btn" title="إيقاف">
                        ⏸️
                    </button>
                    <button id="quitBtn" class="control-btn" title="خروج">
                        🏠
                    </button>
                </div>

                <div class="mobile-controls">
                    <div class="joystick-area" id="joystickArea">
                        <div class="joystick" id="joystick"></div>
                    </div>
                    <button class="shoot-btn" id="mobileShoot">🔥</button>
                </div>
            </div>
        </div>

        <!-- Victory Screen -->
        <div id="victoryScreen" class="screen">
            <div class="screen-content victory-content">
                <div class="victory-animation">
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                </div>
                
                <h2 class="victory-title">🎉 انتصار رائع!</h2>
                
                <div class="victory-stats">
                    <div class="victory-stat">
                        <span class="stat-label">المستوى</span>
                        <span id="victoryLevel" class="stat-value">1</span>
                    </div>
                    <div class="victory-stat">
                        <span class="stat-label">النقاط</span>
                        <span id="victoryScore" class="stat-value">0</span>
                    </div>
                    <div class="victory-stat highlight">
                        <span class="stat-label">المكاسب</span>
                        <span class="stat-value">
                            +<span id="coinsEarned">0</span> 💰 
                            +<span id="gemsEarned">0</span> 💎
                        </span>
                    </div>
                </div>

                <div class="star-rating">
                    <div class="star" data-star="1">⭐</div>
                    <div class="star" data-star="2">⭐</div>
                    <div class="star" data-star="3">⭐</div>
                </div>

                <div class="victory-buttons">
                    <button id="nextLevelBtn" class="menu-btn primary">
                        <span>المستوى التالي →</span>
                    </button>
                    <button id="victoryMenuBtn" class="menu-btn secondary">
                        <span>القائمة الرئيسية</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="backgroundMusic" loop preload="auto"></audio>
    <audio id="shootSound" preload="auto"></audio>
    <audio id="explosionSound" preload="auto"></audio>
    <audio id="coinSound" preload="auto"></audio>
    <audio id="upgradeSound" preload="auto"></audio>
    <audio id="buttonSound" preload="auto"></audio>
    <audio id="victorySound" preload="auto"></audio>
    <audio id="gameOverSound" preload="auto"></audio>

    <!-- JavaScript Files -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/ships.js"></script>
    <script src="js/upgrades.js"></script>
    <script src="js/levels.js"></script>
    <script src="js/game.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
